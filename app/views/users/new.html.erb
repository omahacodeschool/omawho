<%= render 'partials/navbar.html' %>

<div class="container block">
  <h1>Add your profile</h1>
  <hr>
  <div class="row">
    <%= form_for :user, url: "/users", html: { class: "form-horizontal", role: "form"} do |f| %>

      <div class="col-md-3">
        <div class="text-center">
          <%= image_tag 'profile_pic.jpg', class: "avatar img-thumbnail", alt: "avatar" %>
          <h4>Add profile photo</h4>
          <%= f.file_field :avatar, class: 'form-control' %>
          <h4 class="mobile_only">iOS users, take photos in landscape mode!</h4>
        </div>
      </div>

      <div class="col-md-9 personal-info">
        <% if @user && @user.errors %>
          <div class="form-errors">
            <p>Please review and correct the following errors:</p>
            <% @user.errors.each do |key, value| %>
              <li><%= "#{key} #{value}" %></li>
            <% end %>
          </div>
        <% end %>
          <h3>Personal Info</h3>

          <div class="form-group">
            <%= f.label :first_name, class: "col-md-3 control-label" %>
            <div class="col-md-8">
              <%= f.text_field :first_name, class: "form-control" %>
            </div>
          </div>
          <div class="form-group">
            <%= f.label :last_name, class: "col-md-3 control-label" %>
            <div class="col-md-8">
              <%= f.text_field :last_name, class: "form-control" %>
            </div>
          </div>
          <div class="form-group">
            <%= f.label :email, class: "col-md-3 control-label" %>
            <div class="col-md-8">
              <%= f.text_field :email, class: "form-control" %>
            </div>
          </div>
          <div class="form-group">
            <%= f.label :password, class: "col-md-3 control-label" %>
            <div class="col-md-8">
              <%= f.password_field :password, class: "form-control" %>
            </div>
          </div>
          <div class="form-group">
            <%= f.label :password_confirmation, class: "col-md-3 control-label" %>
            <div class="col-md-8">
              <%= f.password_field :password_confirmation, class: "form-control" %>
            </div>
          </div>
          <div class="form-group">
            <%= f.label :username, class: "col-md-3 control-label" %>
            <div class="col-md-8">
              <%= f.text_field :username, class: "form-control" %>
            </div>
            <br>
            <h4>(Note, usernames are only used for linking to your profile.)</h4>
          </div>

          <h3>Select Speciality</h3>
          <h4>Select a primary speciality:</h4>
          <div class="form-group">
             <label class="col-xs-2 col-md-3 control-label">Category:</label>
             <div class="col-xs-offset-2 col-md-8">
               <%= f.select :category_ids, options_from_collection_for_select(@categories, :id, :name), {}, name: "user[category_ids][]" %>
             </div>
          </div>

          <div class="form-group">
            <label class="col-md-3 control-label"></label>
            <div class="text-center">
              <%= f.submit "Add Your Profile" %>
            </div>
          </div>
      </div>
    <% end %>
  </div>
</div>
<hr>
